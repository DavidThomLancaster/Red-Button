@startuml
title Sequence Diagram: GET /jobs â€” Retrieve All Jobs for User

actor Client
participant Router
participant AuthService
participant JobService
participant JobRepository
database JobsDB

Client -> Router : GET /jobs\nAuthorization: Bearer <token>
Router -> Router : validateRequestFormat()

Router -> AuthService : validateToken(token)
alt Token invalid
    AuthService -> Router : raise UnauthorizedError
    Router -> Client : 401 Unauthorized
else Token valid
    Router -> AuthService : getUserIdFromToken(token)
    AuthService --> Router : user_id

    Router -> JobService : get_jobs(user_id)
    JobService -> JobRepository : fetch_jobs_by_user(user_id)
    JobRepository -> JobsDB : SELECT * FROM jobs WHERE user_id = ?
    JobsDB --> JobRepository : jobs_list
    JobRepository --> JobService : jobs_list
    JobService --> Router : jobs_list

    Router -> Client : 200 OK + jobs_list
end
@enduml
